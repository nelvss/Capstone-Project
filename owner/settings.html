<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Settings - Owner Dashboard</title>
  <link rel="stylesheet" href="settings.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <script defer src="settings.js"></script>
</head>
<body>
  <div class="sidebar">
    <div class="sidebar-header">
      <img src="../Images/logo.png" alt="Logo" class="sidebar-logo-img">
    </div>
    <nav>
      <ul>
        <li onclick="navigateWithTransition('dashboard.html')"><span class="icon">ğŸ“Š</span> Dashboard</li>
        <li onclick="navigateWithTransition('analytics.html')"><span class="icon">ğŸ“ˆ</span> Analytics</li>
        <li onclick="navigateWithTransition('payment.html')"><span class="icon">ğŸ’³</span> Payment</li>
        <li class="active"><span class="icon">âš™ï¸</span> Settings</li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <button class="logout-btn" onclick="handleLogout()"><span class="icon">â»</span> Logout</button>
    </div>
  </div>
  <div class="main-content">
    <header>
      <div class="header-main">
        <button class="sidebar-toggle" onclick="toggleSidebar()">
          <span class="hamburger-icon">â˜°</span>
        </button>
        <div class="header-text">
          <h1>Service Settings</h1>
          <p class="header-subtitle">Pick a service type below to start configuring details.</p>
        </div>
      </div>
    </header>
    
    <section class="settings-tabs">
      <div class="tab-buttons">
        <button class="tab-btn active" data-tab="package" onclick="showTab(event, 'package')">ğŸ“¦ Package Only</button>
        <button class="tab-btn" data-tab="tour" onclick="showTab(event, 'tour')">ğŸ§­ Tour Only</button>
        <button class="tab-btn" data-tab="van" onclick="showTab(event, 'van')">ğŸš Van Rental</button>
        <button class="tab-btn" data-tab="vehicle" onclick="showTab(event, 'vehicle')">ğŸš— Vehicle Rental</button>
        <button class="tab-btn" data-tab="diving" onclick="showTab(event, 'diving')">ğŸ¤¿ Diving</button>
      </div>
    </section>
    <section id="package-tab" class="tab-content active">
      <div class="settings-section">
        <div class="empty-state">
          <div class="empty-icon" aria-hidden="true">ğŸ“¦</div>
          <h2>Package Only</h2>
          <p>Create bundled offerings that combine lodging, transport, and activities. Add your forms, tables, or workflows here.</p>
        </div>
      </div>
    </section>

    <section id="tour-tab" class="tab-content">
      <div class="settings-section">
        <div class="empty-state">
          <div class="empty-icon" aria-hidden="true">ğŸ§­</div>
          <h2>Tour Only</h2>
          <p>Design single-day or multi-day tour experiences. This tab is ready for itinerary details, pricing, and availability components.</p>
        </div>
      </div>
    </section>

    <section id="van-tab" class="tab-content">
      <div class="settings-section">
        <div class="empty-state">
          <div class="empty-icon" aria-hidden="true">ğŸš</div>
          <h2>Van Rental</h2>
          <p>Manage fleet information, driver assignments, and van-specific pricing. Integrate booking controls when you are ready.</p>
        </div>
      </div>
    </section>

    <section id="vehicle-tab" class="tab-content">
      <div class="settings-section">
        <div class="section-heading">
          <div>
            <h2>Vehicle Rental Settings</h2>
            <p class="section-subtitle">Manage the vehicle inventory synced with Supabase. Update pricing, descriptions, and images stored in the <code>vehicles</code> table.</p>
          </div>
          <div class="vehicle-actions-bar">
            <button id="vehicle-add-btn" class="btn-primary" type="button">â• Add Vehicle</button>
            <button id="vehicle-refresh-btn" class="btn-secondary" type="button">â†» Refresh</button>
            <span id="vehicle-sync-status" class="vehicle-sync-status" aria-live="polite">Last synced: waiting...</span>
          </div>
        </div>

        <div id="vehicle-error" class="vehicle-error" role="alert" hidden></div>

        <div id="vehicle-new-card" class="vehicle-card vehicle-new-card" role="article" hidden>
          <header class="vehicle-card-header">
            <div>
              <h3>New Vehicle</h3>
              <p class="vehicle-id">Creating new...</p>
            </div>
            <span class="vehicle-status-tag">New</span>
          </header>
          <div class="vehicle-card-body">
            <div class="vehicle-media">
              <div class="vehicle-image-wrapper">
                <img class="vehicle-image" src="../Images/logo.png" alt="Vehicle image">
                <div class="vehicle-image-actions">
                  <button type="button" id="new-vehicle-upload-btn" class="btn-secondary vehicle-upload-btn">Upload Image</button>
                  <input type="file" id="new-vehicle-file-input" class="vehicle-file-input" accept="image/*" hidden>
                  <small class="vehicle-image-hint">Stored in Supabase bucket <code>vehicle-rental</code></small>
                </div>
              </div>
            </div>
            <div class="vehicle-form">
              <label class="form-field">
                <span>Vehicle Name</span>
                <input type="text" id="new-vehicle-name" placeholder="e.g., Adventure Bike 200">
              </label>
              <label class="form-field">
                <span>Price per day (â‚±)</span>
                <input type="number" min="0" step="0.01" id="new-vehicle-price" placeholder="0.00">
              </label>
              <label class="form-field">
                <span>Description</span>
                <textarea id="new-vehicle-description" rows="4" placeholder="Describe the vehicle features and usage."></textarea>
              </label>
              <div class="vehicle-form-actions">
                <button type="button" id="new-vehicle-save-btn" class="btn-primary">Create Vehicle</button>
                <button type="button" id="new-vehicle-cancel-btn" class="btn-secondary">Cancel</button>
                <span id="new-vehicle-status" aria-live="polite"></span>
              </div>
            </div>
          </div>
        </div>

        <div id="vehicle-list" class="vehicle-list" role="list"></div>

        <template id="vehicle-card-template">
          <article class="vehicle-card" role="listitem">
            <header class="vehicle-card-header">
              <div>
                <h3 class="vehicle-name"></h3>
                <p class="vehicle-id"></p>
              </div>
              <span class="vehicle-status-tag" aria-live="polite"></span>
            </header>
            <div class="vehicle-card-body">
              <div class="vehicle-media">
                <div class="vehicle-image-wrapper">
                  <img class="vehicle-image" alt="Vehicle image">
                  <div class="vehicle-image-actions">
                    <button type="button" class="btn-secondary vehicle-upload-btn">Upload Image</button>
                    <input type="file" class="vehicle-file-input" accept="image/*" hidden>
                    <small class="vehicle-image-hint">Stored in Supabase bucket <code>vehicle-rental</code></small>
                  </div>
                </div>
              </div>
              <div class="vehicle-form">
                <label class="form-field">
                  <span>Price per day (â‚±)</span>
                  <input type="number" min="0" step="0.01" class="vehicle-price" placeholder="0.00">
                </label>
                <label class="form-field">
                  <span>Description</span>
                  <textarea class="vehicle-description" rows="4" placeholder="Add a short description owners can display to renters."></textarea>
                </label>
                <div class="vehicle-form-actions">
                  <button type="button" class="btn-primary vehicle-save-btn">Save Changes</button>
                  <button type="button" class="btn-danger vehicle-delete-btn">ğŸ—‘ï¸ Delete</button>
                  <span class="vehicle-inline-status" aria-live="polite"></span>
                </div>
              </div>
            </div>
          </article>
        </template>
      </div>
    </section>

    <section id="diving-tab" class="tab-content">
      <div class="settings-section">
        <div class="empty-state">
          <div class="empty-icon" aria-hidden="true">ğŸ¤¿</div>
          <h2>Diving</h2>
          <p>Outline dive packages, certification requirements, and equipment rentals. Embed safety guidelines or waiver forms here.</p>
        </div>
      </div>
    </section>
  </div>

  <!-- Success Message -->
  <div id="success-message" class="success-message">
    <span class="success-icon">âœ…</span>
    <span class="success-text">Settings saved successfully!</span>
  </div>
</body>
</html>